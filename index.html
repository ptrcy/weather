<!DOCTYPE html>
<html class="light" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>SkyCast Weather Analytics</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>☀️</text></svg>">
  <style>body { opacity: 0; } body.loaded { opacity: 1; transition: opacity 0.1s; }</style>

  <!-- Preconnect to external domains for faster loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />

  <!-- Critical CSS first -->
  <link href="dist/output.css" rel="stylesheet" />

  <!-- Fonts with optimized loading -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@400,0..1&display=swap" rel="stylesheet" />

  <!-- Defer Chart.js - not needed for initial render -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

  <script>document.addEventListener('DOMContentLoaded', () => document.body.classList.add('loaded'));</script>
</head>

<body
  class="bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white transition-colors duration-200">
  <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
    <div class="layout-container flex h-full grow flex-col">
      <!-- Top Navigation Bar -->
      <header
        class="flex items-center justify-between border-b border-solid border-[#dbe0e6] dark:border-gray-800 bg-white dark:bg-background-dark px-4 md:px-10 py-3 sticky top-0 z-50 gap-4">
        <div class="flex items-center gap-2 md:gap-4 text-primary flex-shrink-0">
          <span class="material-symbols-outlined text-2xl md:text-3xl">wb_sunny</span>
          <h2 class="text-[#111418] dark:text-white text-lg md:text-xl font-bold leading-tight tracking-[-0.015em]">
            SkyCast
          </h2>
        </div>

        <form id="addCityForm" class="flex flex-col flex-1 max-w-xs md:max-w-sm h-10 relative">
          <div class="flex w-full flex-1 items-stretch rounded-lg h-full overflow-hidden">
            <div
              class="text-[#617589] dark:text-gray-400 flex border-none bg-background-light dark:bg-gray-800 items-center justify-center pl-3 md:pl-4">
              <span class="material-symbols-outlined text-xl">search</span>
            </div>
            <input id="cityInput"
              class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden text-[#111418] dark:text-white focus:outline-0 focus:ring-0 border-none bg-background-light dark:bg-gray-800 placeholder:text-[#617589] dark:placeholder:text-gray-500 px-2 md:px-4 text-sm md:text-base font-normal leading-normal"
              placeholder="Search cities..." value="" autocomplete="off" />
          </div>
          <!-- Search Results Dropdown -->
          <div id="searchResults"
            class="absolute top-12 left-0 w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg z-50 overflow-hidden flex flex-col gap-1">
          </div>
        </form>

        <!-- Desktop nav - hidden on mobile -->
        <div class="hidden lg:flex items-center gap-6">
          <a class="text-[#111418] dark:text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
            href="#">Dashboard</a>
          <a class="text-primary text-sm font-medium leading-normal" href="#">Comparison</a>
          <a class="text-[#111418] dark:text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
            href="#">Maps</a>
          <a class="text-[#111418] dark:text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
            href="#">Alerts</a>
        </div>
      </header>
      <main class="flex flex-1 justify-center py-8">
        <div class="layout-content-container flex flex-col w-full max-w-[1200px] flex-1 px-4 md:px-10">
          <!-- Page Heading -->
          <div class="flex flex-col sm:flex-row sm:flex-wrap justify-between items-start sm:items-end gap-4 mb-6">
            <div class="flex flex-col gap-2">
              <p
                class="text-[#111418] dark:text-white text-2xl md:text-4xl font-black leading-tight tracking-[-0.033em]">
                Weather Comparison
              </p>
              <p class="text-[#617589] dark:text-gray-400 text-sm md:text-base font-normal leading-normal">
                Compare forecasts across your selected cities
              </p>
            </div>
            <div class="flex gap-2 md:gap-3">
              <button id="refreshAll"
                class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-9 md:h-10 px-3 md:px-4 bg-white dark:bg-gray-800 border border-[#dbe0e6] dark:border-gray-700 text-[#111418] dark:text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-50">
                <span class="material-symbols-outlined text-lg">refresh</span>
                <span class="truncate hidden sm:inline ml-2">Refresh</span>
              </button>
              <button id="clearAll"
                class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-9 md:h-10 px-3 md:px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90">
                <span class="material-symbols-outlined text-lg">delete_sweep</span>
                <span class="truncate hidden sm:inline ml-2">Clear</span>
              </button>
            </div>
          </div>
          <!-- Forecast Toggle and Metrics Header -->
          <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
            <div id="rangeToggle" class="flex bg-[#f0f2f4] dark:bg-gray-800 p-1 rounded-xl w-full md:w-auto">
              <label
                class="flex cursor-pointer h-10 grow md:min-w-[120px] items-center justify-center overflow-hidden rounded-lg px-4 has-[:checked]:bg-white dark:has-[:checked]:bg-gray-700 has-[:checked]:shadow-sm has-[:checked]:text-[#111418] dark:has-[:checked]:text-white text-[#617589] dark:text-gray-400 text-sm font-bold transition-all">
                <span class="truncate uppercase tracking-wider">7 Days</span>
                <input checked="" class="hidden" name="timeframe" type="radio" data-range="7" value="7 Days" />
              </label>
              <label
                class="flex cursor-pointer h-10 grow md:min-w-[120px] items-center justify-center overflow-hidden rounded-lg px-4 has-[:checked]:bg-white dark:has-[:checked]:bg-gray-700 has-[:checked]:shadow-sm has-[:checked]:text-[#111418] dark:has-[:checked]:text-white text-[#617589] dark:text-gray-400 text-sm font-bold transition-all">
                <span class="truncate uppercase tracking-wider">14 Days</span>
                <input class="hidden" name="timeframe" type="radio" data-range="14" value="14 Days" />
              </label>
            </div>
            <div class="flex items-center gap-4 text-[#617589] dark:text-gray-400">
              <span class="text-xs font-semibold uppercase tracking-widest">Units:</span>
              <div class="flex gap-2">
                <button class="size-8 rounded-full border border-primary bg-primary/10 text-primary text-xs font-bold">
                  °C
                </button>
                <!-- Future feature: °F -->
              </div>
            </div>
          </div>
          <!-- Mobile Card View -->
          <div id="mobileCards" class="flex flex-col gap-4 md:hidden w-full">
            <!-- Cards injected here -->
          </div>

          <!-- Comparison Table (Desktop) -->
          <div class="w-full hidden md:block">
            <div
              class="overflow-x-auto rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-background-dark shadow-sm">
              <table class="w-full text-left border-collapse min-w-[800px]">
                <thead>
                  <tr id="dailyHead"
                    class="bg-gray-50 dark:bg-gray-800/50 border-b border-[#dbe0e6] dark:border-gray-700">
                    <th
                      class="px-6 py-4 text-[#111418] dark:text-white text-sm font-bold uppercase tracking-wider w-[200px] sticky left-0 z-10 bg-gray-50 dark:bg-gray-800/95">
                      City
                    </th>
                    <!-- Dates will be injected here -->
                  </tr>
                </thead>
                <tbody id="dailyBody">
                  <!-- Rows will be injected here -->
                </tbody>
              </table>
            </div>
          </div>
          <!-- Chart Section -->
          <div class="mt-6 md:mt-8 mb-8">
            <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-3">
              <h2
                class="text-[#111418] dark:text-white text-lg md:text-[22px] font-bold leading-tight tracking-[-0.015em]">
                Forecast Trends</h2>
              <div id="chartToggle" class="flex bg-[#f0f2f4] dark:bg-gray-800 p-1 rounded-lg">
                <button data-mode="max"
                  class="px-2 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-bold bg-white dark:bg-gray-700 text-[#111418] dark:text-white shadow-sm transition-all">Max</button>
                <button data-mode="min"
                  class="px-2 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-bold text-[#617589] dark:text-gray-400 hover:text-[#111418] dark:hover:text-white transition-all">Min</button>
                <button data-mode="rain"
                  class="px-2 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-bold text-[#617589] dark:text-gray-400 hover:text-[#111418] dark:hover:text-white transition-all">Rain</button>
                <button data-mode="wind"
                  class="px-2 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-bold text-[#617589] dark:text-gray-400 hover:text-[#111418] dark:hover:text-white transition-all">Wind</button>
              </div>
            </div>
            <div
              class="p-4 rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm">
              <canvas id="weatherChart" class="w-full max-h-[400px]"></canvas>
            </div>
          </div>

          <!-- Detailed Metrics Section -->
          <div class="mt-12">
            <h2 class="text-[#111418] dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] mb-4">
              Detailed Analytics
            </h2>
            <div id="detailedAnalytics" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
              <!-- Cards are dynamically generated by app.js -->
            </div>
          </div>
        </div>
      </main>
      <footer
        class="border-t border-[#dbe0e6] dark:border-gray-800 py-6 md:py-10 px-4 md:px-10 bg-white dark:bg-background-dark">
        <div class="max-w-[1200px] mx-auto flex flex-col items-center gap-4 text-center">
          <div class="flex items-center gap-2 text-primary opacity-60">
            <span class="material-symbols-outlined">wb_sunny</span>
            <span class="font-bold text-lg">SkyCast</span>
          </div>
          <p class="text-xs md:text-sm text-[#617589] dark:text-gray-400">
            © 2024 SkyCast Weather Analytics
          </p>
          <div class="flex flex-wrap justify-center gap-4 md:gap-6">
            <a class="text-xs md:text-sm text-[#617589] dark:text-gray-400 hover:text-primary" href="#">Privacy</a>
            <a class="text-xs md:text-sm text-[#617589] dark:text-gray-400 hover:text-primary" href="#">Terms</a>
            <a class="text-xs md:text-sm text-[#617589] dark:text-gray-400 hover:text-primary" href="#">API</a>
          </div>
        </div>
      </footer>
    </div>
  </div>
  <script src="app.js?v=6" defer></script>
</body>

</html>